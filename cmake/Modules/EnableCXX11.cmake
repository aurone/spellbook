macro(enable_cxx11)
    if (CMAKE_COMPILER_IS_GNUCXX)
        execute_process(COMMAND ${CMAKE_CXX_COMPILER} -dumpversion OUTPUT_VARIABLE GNUCXX_VERSION)
        if (GNUCXX_VERSION VERSION_LESS 4.7)
            set(C11_FLAGS "-std=c++0x")
        else()
            set(C11_FLAGS "-std=c++11")
        endif()
    else()
        message("Compiler is not g++. You're on your own for C++11 features")
    endif()

    set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} ${C11_FLAGS}")
endmacro(enable_cxx11)
